pipeline {
 agent any
 
  stages {
     stage ('Compile Stage') {
 
     steps {
       withMaven(maven : 'maven') {
           sh "'${MAVEN_HOME}/opt/apache-maven-3.5.4' mvn clean compile"
           }
        }
      }
      stage ('Package Stage') {
 
     steps {
       withMaven(maven : 'maven') {
           sh "'${MAVEN_HOME}/opt/apache-maven-3.5.4' mvn clean package"
           }
        }
      }
     stage ('Testing Stage') {
 
     steps {
       withMaven(maven : 'maven') {
           sh "'${MAVEN_HOME}/opt/apache-maven-3.5.4' mvn clean test"
           }
        }
      }
    }
 }  
